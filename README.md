# Приложение Chess Puzzle

Проект использует Next.js.

## Установка

Установите зависимости:

```bash
npm install
```

## Разработка

Запуск локального сервера разработки:

```bash
npm run dev
```

## Деплой

Vercel использует следующую команду:

```bash
npm run build
```

Команда `build` собирает приложение для деплоя.

## Переменные окружения

Для работы глобальной таблицы лидеров требуется Redis-совместимый KV (например, Upstash).
Создайте файл `.env.local` со значениями:

```
UPSTASH_REDIS_REST_URL=ваш_url
UPSTASH_REDIS_REST_TOKEN=ваш_token
```

## Источник задач

Теперь задачи генерируются локально с помощью движка Stockfish. При
загрузке страницы вызывается эндпоинт `/api/puzzle`, который запускает
Stockfish и подбирает случайную позицию вместе с лучшим ходом.
Если по какой-то причине это не удаётся, приложение берёт позицию из
локального файла `data/puzzles.json`.

Получить параметры можно в консоли выбранного провайдера.
